<?xml version="1.0" encoding="utf-8" standalone="no" ?><root>

    <Display classname="ED::CReplaceUpgradeBuildingProps">
        <Class>ED::CReplaceUpgradeBuilding</Class>

        <Decal>Buildings\B_Storehouse_Decal</Decal>
        <Model>Buildings\B_Storehouse_01</Model>
        <Destroyed>Buildings\B_Storehouse_Rubble_0</Destroyed>
        <UpgradeSite>Buildings\B_Storehouse_Buildingsite_1</UpgradeSite>
        <LightModel>Buildings\B_Storehouse_Light_1</LightModel>

        <Upgrade_1>Buildings\B_Storehouse_02</Upgrade_1>
        <Destroyed_1>Buildings\B_Storehouse_Rubble_1</Destroyed_1>
        <UpgradeSite_1>Buildings\B_Storehouse_Buildingsite_2</UpgradeSite_1>
        <LightModel_1>Buildings\B_Storehouse_Light_2</LightModel_1>

        <Upgrade_2>Buildings\B_Storehouse_03</Upgrade_2>
        <Destroyed_2>Buildings\B_Storehouse_Rubble_2</Destroyed_2>
        <UpgradeSite_2>Buildings\B_Storehouse_Buildingsite_3</UpgradeSite_2>
        <LightModel_2>Buildings\B_Storehouse_Light_3</LightModel_2>

        <Upgrade_3>Buildings\B_Storehouse_04</Upgrade_3>
        <Destroyed_3>Buildings\B_Storehouse_Rubble_3</Destroyed_3>
        <UpgradeSite_3>Buildings\B_Storehouse_Buildingsite_4</UpgradeSite_3>
        <LightModel_3>Buildings\B_Storehouse_Light_4</LightModel_3>

        <SnowFactor>0.5</SnowFactor>

        <BannersPerUpgrade>
            <Banner classname="ED::CBannerProps">
                <Model/>
                <AnimationNoWind/>
                <AnimationNormalWind/>
                <AnimationStrongWind/>
            </Banner>

            <Banner classname="ED::CBannerProps">
                <Model/>
                <AnimationNoWind/>
                <AnimationNormalWind/>
                <AnimationStrongWind/>
            </Banner>

            <Banner classname="ED::CBannerProps">
                <Model/>
                <AnimationNoWind/>
                <AnimationNormalWind/>
                <AnimationStrongWind/>
            </Banner>

            <Banner classname="ED::CBannerProps">
                <Model/>
                <AnimationNoWind/>
                <AnimationNormalWind/>
                <AnimationStrongWind/>
            </Banner>
        </BannersPerUpgrade>

        <FireNodeCount>20</FireNodeCount>
        <ShowDestroyedModelAt>0.25</ShowDestroyedModelAt>
    </Display>


    <Logic classname="EGL::CStoreHouseProperties">
        <Class>EGL::CStoreHouse</Class>
        <ConstructionCost>
            <Wood>0</Wood>
            <Stone>0</Stone>
        </ConstructionCost>

        <RubbleDoodad>B_Storehouse_Rubble</RubbleDoodad>

        <UpgradeCosts>
            <UpgradeCost>
                <GoodAmount>
                    <GoodType>G_Stone</GoodType>
                    <Amount>20</Amount>
                </GoodAmount>
                <GoodAmount>
                    <GoodType>G_Gold</GoodType>
                    <Amount>150</Amount>
                </GoodAmount>
            </UpgradeCost>

            <UpgradeCost>
                <GoodAmount>
                    <GoodType>G_Stone</GoodType>
                    <Amount>40</Amount>
                </GoodAmount>
                <GoodAmount>
                    <GoodType>G_Gold</GoodType>
                    <Amount>250</Amount>
                </GoodAmount>
            </UpgradeCost>

            <UpgradeCost>
                <GoodAmount>
                    <GoodType>G_Stone</GoodType>
                    <Amount>60</Amount>
                </GoodAmount>
                <GoodAmount>
                    <GoodType>G_Gold</GoodType>
                    <Amount>500</Amount>
                </GoodAmount>
            </UpgradeCost>
        </UpgradeCosts>

        <MaxNumberOfUpgrades>3</MaxNumberOfUpgrades>
        <SecondsToUpgrade>50</SecondsToUpgrade>

        <SecondsToUpgradeByLevel>
            <Seconds>50</Seconds>
            <Seconds>100</Seconds>
            <Seconds>200</Seconds>
        </SecondsToUpgradeByLevel>

        <MaxSettlersForUpgradeByLevel>
            <MaxSettlers>5</MaxSettlers>
            <MaxSettlers>10</MaxSettlers>
            <MaxSettlers>20</MaxSettlers>
        </MaxSettlersForUpgradeByLevel>

        <PrestigePointsForUpgrade>
            <PrestigePoints>50</PrestigePoints>
            <PrestigePoints>150</PrestigePoints>
            <PrestigePoints>300</PrestigePoints>
        </PrestigePointsForUpgrade>

        <!-- MaxHealth is Health -->
        <MaxHealth>500</MaxHealth>

        <MinFloorFireSize>0</MinFloorFireSize>
        <MaxFloorFireSize>30</MaxFloorFireSize>

        <CanBeBuildOnOuterRim>true</CanBeBuildOnOuterRim>
        <FlattenOnBuild>true</FlattenOnBuild>
        <IsHeightLocking>true</IsHeightLocking>
        <MayRemoveEntities>true</MayRemoveEntities>
        <PlacementAcquiresTerritoryOwnership>false</PlacementAcquiresTerritoryOwnership>

        <AccessCategory>AccessCategoryBuilding</AccessCategory>
        <NeedsPlayer>true</NeedsPlayer>
        <ForceNoPlayer>false</ForceNoPlayer>
        <CanLeaveImmediately>true</CanLeaveImmediately>

        <AlarmRepairBuildingTL>TL_WORKER_REPAIR_ALARM</AlarmRepairBuildingTL>
        <AlarmRepairMaterial>G_Stone</AlarmRepairMaterial>
        <AlarmRepairProvider>G_Stone_Supplier</AlarmRepairProvider>

        <OutStockCapacities>
            <OutStockCapacity>250</OutStockCapacity>
            <OutStockCapacity>500</OutStockCapacity>
            <OutStockCapacity>1500</OutStockCapacity>
            <OutStockCapacity>2500</OutStockCapacity>
        </OutStockCapacities>

        <OnScreenIcon>MinimapStorehouse</OnScreenIcon>
        <KegEffectFactor>0.1</KegEffectFactor>

        <Loot>
            <Type>Trigger</Type>
        </Loot>

        <EntityCategories>
            <EntityCategory>Storehouse</EntityCategory>
            <EntityCategory>G_Grain_Supplier</EntityCategory>
            <EntityCategory>G_Milk_Supplier</EntityCategory>
            <EntityCategory>G_Stone_Supplier</EntityCategory>
            <EntityCategory>G_Honeycomb_Supplier</EntityCategory>
            <EntityCategory>G_Wood_Supplier</EntityCategory>
            <EntityCategory>G_Wool_Supplier</EntityCategory>
            <EntityCategory>G_Iron_Supplier</EntityCategory>
            <EntityCategory>G_Herb_Supplier</EntityCategory>
            <EntityCategory>G_Carcass_Supplier</EntityCategory>
            <EntityCategory>G_RawFish_Supplier</EntityCategory>
            <EntityCategory>NonTorchable</EntityCategory>
            <EntityCategory>AttackableBuilding</EntityCategory>
            <EntityCategory>SpecialBuilding</EntityCategory>
        </EntityCategories>

        <RepairBuildingTL>TL_WORKER_REPAIR</RepairBuildingTL>
        <Exploration>0</Exploration>

        <LeavePos>
            <X>-600</X>
            <Y>-800</Y>
        </LeavePos>

        <ApproachPos>
            <X>0</X>
            <Y>-800</Y>
        </ApproachPos>
        <ApproachR>0</ApproachR>
        <!--NOT working for buy serfs!-->

        <DoorPos>
            <X>-100</X>
            <Y>-300</Y>
        </DoorPos>

        <BlockingAreas>
            <BlockingArea>
                <Blocked1>
                    <X>-800</X>
                    <Y>600</Y>
                </Blocked1>
                <Blocked2>
                    <X>800</X>
                    <Y>-700</Y>
                </Blocked2>
            </BlockingArea>
        </BlockingAreas>

        <BuildBlockingAreas>
            <BuildBlockingArea>
                <Blocked1>
                    <X>-800</X>
                    <Y>600</Y>
                </Blocked1>
                <Blocked2>
                    <X>800</X>
                    <Y>-850</Y>
                </Blocked2>
            </BuildBlockingArea>
        </BuildBlockingAreas>

        <TradingGoodsGathererType>U_TradeGatherer</TradingGoodsGathererType>

        <WayPoints>
            <WayPoint>
                <X>-100</X>
                <Y>-100</Y>
            </WayPoint>
            <WayPoint>
                <X>-300</X>
                <Y>-100</Y>
            </WayPoint>
            <WayPoint>
                <X>-500</X>
                <Y>-100</Y>
            </WayPoint>
            <WayPoint>
                <X>-600</X>
                <Y>-650</Y>
            </WayPoint>
        </WayPoints>
        <SoundImpactType>Stone</SoundImpactType>
    </Logic>

    <Behaviors>
        <Behavior>
            <Logic classname="EGL::CDiscoveredInFogOfWarBehaviorProperties">
                <Class>EGL::CDiscoveredInFogOfWarBehavior</Class>
            </Logic>
        </Behavior>
        <Behavior>
            <Logic classname="EGL::CLimitedAttachmentBehaviorProperties">
                <Class>EGL::CLimitedAttachmentBehavior</Class>
                <Attachment>
                    <Type>ATTACHMENT_DEFENDER_BUILDING</Type>
                    <Limit>200</Limit>
                </Attachment>
            </Logic>
        </Behavior>
        <Behavior>
            <Logic classname="EGL::CStockBehaviorProps">
                <Class>EGL::CStockInOutBehavior</Class>
                <MaxAmountOnStock>100</MaxAmountOnStock>
                <GoodTypes>
                    <GoodType>G_Carcass</GoodType>
                    <GoodType>G_RawFish</GoodType>
                    <GoodType>G_Grain</GoodType>
                    <GoodType>G_Milk</GoodType>
                    <GoodType>G_Honeycomb</GoodType>
                    <GoodType>G_Wood</GoodType>
                    <GoodType>G_Stone</GoodType>
                    <GoodType>G_Iron</GoodType>
                    <GoodType>G_Wool</GoodType>
                    <GoodType>G_Herb</GoodType>
                    <GoodType>G_Salt</GoodType>
                    <GoodType>G_Dye</GoodType>
                    
                </GoodTypes>
            </Logic>
        </Behavior>
        <Behavior>
            <Logic classname="EGL::CBehaviorProps">
                <Class>EGL::CBuildingGoodTrader</Class>
            </Logic>
        </Behavior>
        <Behavior>
            <Logic classname="EGL::CBehaviorProps">
                <Class>EGL::CBuildingEntertainerBehavior</Class>
            </Logic>
        </Behavior>

        <Behavior>
            <Logic classname="EGL::CBuildingMerchantBehaviorProps">
                <Class>EGL::CBuildingMerchantBehavior</Class>
                <!-- <MaximumSlotCount>4</MaximumSlotCount> -->
                <ActivationDistance>2100</ActivationDistance>
                <TraderEntityType>U_NPC_Villager01_ME</TraderEntityType>
                <IsEmptyStringKey>MerchantStates/Empty</IsEmptyStringKey>
                <IsUnderUseStringKey>MerchantStates/UnderUse</IsUnderUseStringKey>
                <MoveNearStringKey>MerchantStates/MoveNear</MoveNearStringKey>
                <IsNearStringKey>MerchantStates/IsNearMercenary</IsNearStringKey>
            </Logic>
        </Behavior>

        <!--
        <Behavior>
            <Logic classname="EGL::CWeaponSlotBehaviorProps">
                <Class>EGL::CWeaponSlotBehavior</Class>
                <WeaponSlots>
                    <Slot>
                        <WeaponTypes>
                            <Type>U_MilitaryBuildingDefence</Type>
                        </WeaponTypes>
                        <OffsetX>0</OffsetX>
                        <OffsetY>0</OffsetY>
                        <OffsetHeight>200</OffsetHeight>
                        <CreateOnCompletionWeaponType>U_MilitaryBuildingDefence</CreateOnCompletionWeaponType>
                        <DeliverWorkerType>U_WallConstructionWorker</DeliverWorkerType>
                        <DeliverTL>TL_DELIVER_DEFENSE_WEAPON</DeliverTL>
                    </Slot>
                </WeaponSlots>
            </Logic>
        </Behavior>
        -->

    </Behaviors>
    <MapEditor>
        <TreePosition>Buildings\City</TreePosition>
        <ShowInTree>true</ShowInTree>
        <Clime>Generic</Clime>
        <Scalable>false</Scalable>
        <TemplateResistant>true</TemplateResistant>
    </MapEditor>
</root>
