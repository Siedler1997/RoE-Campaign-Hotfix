<?xml version="1.0" encoding="utf-8" standalone="no" ?>
<root>
	<Display classname="ED::CEntityProps">
		<Class>ED::CDisplaySettler</Class>
		<Model>Units\U_Helbardier</Model>
		<DrawPlayerColor>true</DrawPlayerColor>
	</Display>

	<Logic classname="EGL::CSettlerProps">
		<Class>EGL::CSettler</Class>
		<AccessCategory>AccessCategoryAttackableSettler</AccessCategory>
		<PlayerSectorType>PlayerSectorTypeMilitary</PlayerSectorType>
		<MilMetaFormationMemberType>MilMetaFormationMemberTypeMelee</MilMetaFormationMemberType>
		<NeedsPlayer>true</NeedsPlayer>
		<ForceNoPlayer>false</ForceNoPlayer>
		<MaxHealth>210</MaxHealth>
		<HealingSeconds>10</HealingSeconds>
		<HealingPoints>35</HealingPoints>
		<IsAttackable>true</IsAttackable>
		<AdjustWalkAnimSpeed>true</AdjustWalkAnimSpeed>
		<IdleTaskList>TL_MILITARY_DEFEND</IdleTaskList>
		<CanDrown>true</CanDrown>
		<IsSelectable>true</IsSelectable>
		<BlockRadius>60</BlockRadius>
		
		<Familiar>
			<With>SheepPasture</With>
			<With>CattlePasture</With>
		</Familiar>

		<EntityCategories>
			<EntityCategory>Military</EntityCategory>
			<EntityCategory>AttackableSettler</EntityCategory>
			<EntityCategory>Melee</EntityCategory>
		</EntityCategories>
		<SoundImpactType>Leather</SoundImpactType>
		<SoundProjectileType>Lance</SoundProjectileType>
	</Logic>

	<Behaviors>
		<Behavior>
			<Logic classname="EGL::CAnimationBehaviorExProps">
				<Class>EGL::CBehaviorAnimationEx</Class>
				<AnimSet>SET_HELBARDIER</AnimSet>
			</Logic>
			<Display classname="ED::CBehaviorProps">
				<Class>ED::CDisplayBehaviorAnimation</Class>
			</Display>
		</Behavior>

		<Behavior>
			<Logic classname="EGL::CMilitaryMovementBehaviorProps">
				<Class>EGL::CMilitaryMovementBehavior</Class>
				<StraightenPath>true</StraightenPath>
				<EvasionPriority>140</EvasionPriority>
				<Speed>420</Speed>
				<RotationSpeed>500</RotationSpeed>
				<MoveTaskList>TL_MILITARY_WALK</MoveTaskList>
				<MoveIdleAnim>Military\U_MilitaryPoleArm_Idle1</MoveIdleAnim>
			</Logic>
			<Display classname="ED::CBehaviorProps">
				<Class>ED::CDisplayBehaviorMovement</Class>
			</Display>
		</Behavior>

		<Behavior>
			<Logic classname="EGL::CBehaviorPropsDying">
				<Class>EGL::CBehaviorDying</Class>
				<DyingTaskList>TL_DIE</DyingTaskList>
			</Logic>
		</Behavior>
		<Behavior>
			<Logic classname="EGL::CFightBehaviorProps">
				<Class>EGL::CFightBehavior</Class>
				<DefendTL>TL_MILITARY_DEFEND</DefendTL>
				<IdleTaskList>TL_MILITARY_IDLE</IdleTaskList>
				<MoveTaskList>TL_MILITARY_WALK</MoveTaskList>
				<AttackRunTaskList>TL_MILITARY_ATTACKRUN</AttackRunTaskList>
				<StandToArmsTaskList>TL_MILITARY_STAND_TO_ARMS</StandToArmsTaskList>
				<RaiseShieldTaskList>TL_MILITARY_RAISE_SHIELD</RaiseShieldTaskList>
				<RaiseShieldRunTaskList>TL_MILITARY_RAISE_SHIELD_RUN</RaiseShieldRunTaskList>
				<DefendRange>1800</DefendRange>
				<AttackMoveRange>1800</AttackMoveRange>
				<IdleWhileDefended>false</IdleWhileDefended>
				
				<AmmunitionType>G_TorchAmmunition</AmmunitionType>
				<AmmunitionLimit>1</AmmunitionLimit>
				
				<TargetCategoryList>
					<!-- Bonus damage against knight -->
					<TargetCategory>
						<!-- don't remove  the empty tags, otherwise the data isn't shown correctly in the XML balancer! -->
						<EntityCategoryList>
							<EntityCategory>Hero</EntityCategory>
							<EntityCategory/>
							<EntityCategory/>
							<EntityCategory/>
							<EntityCategory/>
							<EntityCategory/>
						</EntityCategoryList>

						<AttackModeList>
							<AttackMode>
								<BattleTL>TL_BATTLE_MELEE</BattleTL>
								<!-- if ApplyDamageModifiers is false, the damage isn't modified by City Reputation and TerritoryBonus -->
								<ApplyDamageModifiers>true</ApplyDamageModifiers>

								<MinRange>0</MinRange>
								<MaxRange>200</MaxRange>
								<MaxHeightDeltaToTarget>100</MaxHeightDeltaToTarget>
								<CanAttackOverWalls>false</CanAttackOverWalls>
								<CooldownThousandths>3000</CooldownThousandths>
								<Damage>
									<DiceCount>0</DiceCount>
									<FaceCount>0</FaceCount>
									<BaseValue>30</BaseValue>
								</Damage>
							</AttackMode>

							<!-- ranged combat  (those empty tags are needed to show all unit xmls correctly in the XML balancer  -->
							<AttackMode>
								<BattleTL/>
								<ApplyDamageModifiers>true</ApplyDamageModifiers>
								<MinRange/>
								<MaxRange/>
								<MaxHeightDeltaToTarget/>
								<CanAttackOverWalls>false</CanAttackOverWalls>
								<CooldownThousandths/>
								<ProjectileEffect/>
								<ProjectileOffsetHeight/>
								<ProjectileOffsetFront/>
								<Damage>
									<DiceCount/>
									<FaceCount/>
									<BaseValue/>
								</Damage>
								<NoMinRangeWhenNotOnGround>false</NoMinRangeWhenNotOnGround>
							</AttackMode>

						</AttackModeList>
					</TargetCategory>

					<!-- Plain attack -->
					<TargetCategory>
						<!-- don't remove  the empty tags, otherwise the data isn't shown correctly in the XML balancer! -->
						<EntityCategoryList>
							<EntityCategory>Hero</EntityCategory>
							<EntityCategory>Leader</EntityCategory>
							<EntityCategory>AttackableSettler</EntityCategory>
							<EntityCategory>Thief</EntityCategory>
							<EntityCategory/>
							<EntityCategory/>
						</EntityCategoryList>

						<AttackModeList>
							<AttackMode>
								<BattleTL>TL_BATTLE_MELEE</BattleTL>
								<!-- if ApplyDamageModifiers is false, the damage isn't modified by City Reputation and TerritoryBonus -->
								<ApplyDamageModifiers>true</ApplyDamageModifiers>

								<MinRange>0</MinRange>
								<MaxRange>200</MaxRange>
								<MaxHeightDeltaToTarget>100</MaxHeightDeltaToTarget>
								<CanAttackOverWalls>false</CanAttackOverWalls>
								<CooldownThousandths>3000</CooldownThousandths>
								<Damage>
									<DiceCount>0</DiceCount>
									<FaceCount>0</FaceCount>
									<BaseValue>15</BaseValue>
								</Damage>
							</AttackMode>

							<!-- ranged combat  (those empty tags are needed to show all unit xmls correctly in the XML balancer  -->
							<AttackMode>
								<BattleTL/>
								<ApplyDamageModifiers>true</ApplyDamageModifiers>
								<MinRange/>
								<MaxRange/>
								<MaxHeightDeltaToTarget/>
								<CanAttackOverWalls>false</CanAttackOverWalls>
								<CooldownThousandths/>
								<ProjectileEffect/>
								<ProjectileOffsetHeight/>
								<ProjectileOffsetFront/>
								<Damage>
									<DiceCount/>
									<FaceCount/>
									<BaseValue/>
								</Damage>
								<NoMinRangeWhenNotOnGround>false</NoMinRangeWhenNotOnGround>
							</AttackMode>

						</AttackModeList>
					</TargetCategory>

					<!-- Torching buildings -->
					<TargetCategory>
						<DisableAutoAttack>true</DisableAutoAttack>

						<!-- don't remove  the empty tags, otherwise the data isn't shown correctly in the XML balancer! -->
						<EntityCategoryList>
							<EntityCategory/>
							<EntityCategory/>
							<EntityCategory/>
							<EntityCategory>AttackableBuilding</EntityCategory>
							<EntityCategory>PalisadeSegment</EntityCategory>
							<EntityCategory>SpecialBuilding</EntityCategory>
						</EntityCategoryList>

						<AttackModeList>
							<AttackMode>
								<BattleTL>TL_BATTLE_MELEE</BattleTL>
								<!-- if ApplyDamageModifiers is false, the damage isn't modified by City Reputation and TerritoryBonus -->
								<ApplyDamageModifiers>false</ApplyDamageModifiers>

								<MinRange>0</MinRange>
								<MaxRange>800</MaxRange>
								<ProjectileEffect>FXTorch</ProjectileEffect>
								<MaxHeightDeltaToTarget>2000</MaxHeightDeltaToTarget>
								<CanAttackOverWalls>false</CanAttackOverWalls>
								<CooldownThousandths>3000</CooldownThousandths>
								<Damage>
									<DiceCount>0</DiceCount>
									<FaceCount>0</FaceCount>
									<BaseValue>5</BaseValue>
								</Damage>
								<BuildingFireSize>10</BuildingFireSize>
								<ConsumeAmmunition>true</ConsumeAmmunition>
							</AttackMode>
						</AttackModeList>
					</TargetCategory>

					<!-- Capturing / attacking  merchants and siege engines -->
					<TargetCategory>
						<DisableAutoAttack>true</DisableAutoAttack>
						<!-- don't remove  the empty tags, otherwise the data isn't shown correctly in the XML balancer! -->
						<EntityCategoryList>
							<EntityCategory/>
							<EntityCategory/>
							<EntityCategory/>
							<EntityCategory/>
							<EntityCategory>AttackableMerchant</EntityCategory>
							<EntityCategory>HeavyWeapon</EntityCategory>
						</EntityCategoryList>

						<AttackModeList>
							<AttackMode>
								<BattleTL>TL_BATTLE_MELEE</BattleTL>
								<!-- if ApplyDamageModifiers is false, the damage isn't modified by City Reputation and TerritoryBonus -->
								<ApplyDamageModifiers>true</ApplyDamageModifiers>

								<MinRange>0</MinRange>
								<MaxRange>200</MaxRange>
								<MaxHeightDeltaToTarget>100</MaxHeightDeltaToTarget>
								<CanAttackOverWalls>false</CanAttackOverWalls>
								<CooldownThousandths>3000</CooldownThousandths>
								<Damage>
									<DiceCount>0</DiceCount>
									<FaceCount>0</FaceCount>
									<BaseValue>15</BaseValue>
								</Damage>
							</AttackMode>
						</AttackModeList>
					</TargetCategory>

					<!-- This category is only used to disable auto-attack for carnivores  -->
					<TargetCategory>
						<DisableAutoAttack>true</DisableAutoAttack>
						<!-- don't remove  the empty tags, otherwise the data isn't shown correctly in the XML balancer! -->
						<EntityCategoryList>
							<EntityCategory/>
							<EntityCategory/>
							<EntityCategory/>
							<EntityCategory/>
							<EntityCategory/>
							<EntityCategory>AttackableAnimal</EntityCategory>
						</EntityCategoryList>
						<AttackModeList>
							<AttackMode>
								<BattleTL>TL_BATTLE_MELEE</BattleTL>
								<!-- if ApplyDamageModifiers is false, the damage isn't modified by City Reputation and TerritoryBonus -->
								<ApplyDamageModifiers>true</ApplyDamageModifiers>

								<MinRange>0</MinRange>
								<MaxRange>200</MaxRange>
								<MaxHeightDeltaToTarget>100</MaxHeightDeltaToTarget>
								<CanAttackOverWalls>false</CanAttackOverWalls>
								<CooldownThousandths>3000</CooldownThousandths>
								<Damage>
									<DiceCount>0</DiceCount>
									<FaceCount>0</FaceCount>
									<BaseValue>15</BaseValue>
								</Damage>
							</AttackMode>

							<!-- ranged combat -->
							<AttackMode>
								<BattleTL/>
								<ApplyDamageModifiers>true</ApplyDamageModifiers>
								<MinRange/>
								<MaxRange/>
								<MaxHeightDeltaToTarget/>
								<CanAttackOverWalls>false</CanAttackOverWalls>
								<CooldownThousandths/>
								<ProjectileEffect/>
								<ProjectileOffsetHeight/>
								<ProjectileOffsetFront/>
								<Damage>
									<DiceCount/>
									<FaceCount/>
									<BaseValue/>
								</Damage>
								<NoMinRangeWhenNotOnGround>false</NoMinRangeWhenNotOnGround>
							</AttackMode>

						</AttackModeList>
					</TargetCategory>
				</TargetCategoryList>
			</Logic>
		</Behavior>

		<Behavior>
			<Logic classname="EGL::CBehaviorProps">
				<Class>EGL::CParticleEffectAttachmentBehavior</Class>
			</Logic>
			<Display classname="ED::CBehaviorProps">
				<Class>ED::CParticleEffectAttachmentBehavior</Class>
			</Display>
		</Behavior>
	</Behaviors>

	<MapEditor>
		<TreePosition>Animals\Aggressive</TreePosition>
		<ShowInTree>true</ShowInTree>
		<Clime>Generic</Clime>
		<Scalable>false</Scalable>
	</MapEditor>
</root>