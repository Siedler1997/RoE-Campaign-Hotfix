<?xml version="1.0" encoding="utf-8" standalone="no" ?><root>
  <Display classname="ED::CCityBuildingProps">
    <Class>ED::CCityBuilding</Class>
    <Model>Buildings\B_SwordSmith_Floor_1</Model>
    <Decal>Buildings\B_SwordSmith_Decal</Decal>
    <Yard_1>Buildings\B_SwordSmith_Yard_1</Yard_1>
    <Yard_2>Buildings\B_SwordSmith_Yard_2</Yard_2>
    <Yard_3>Buildings\B_SwordSmith_Yard_3</Yard_3>
    <Roof_1>Buildings\B_SwordSmith_Roof_1</Roof_1>
    <Roof_2>Buildings\B_SwordSmith_Roof_2</Roof_2>
    <Roof_3>Buildings\B_SwordSmith_Roof_3</Roof_3>
    <Roof_Destroyed>Buildings\B_SwordSmith_Rubble</Roof_Destroyed>
    <Upgrade_Site>Buildings\B_SwordSmith_BuildingSite</Upgrade_Site>
    <Floor_1>Buildings\B_SwordSmith_Floor_1</Floor_1>
    <Floor_2>Buildings\B_SwordSmith_Floor_2</Floor_2>
    <Floor_3>Buildings\B_SwordSmith_Floor_3</Floor_3>
    <Gable_1>Buildings\B_SwordSmith_Gable_1</Gable_1>
    <Gable_2>Buildings\B_SwordSmith_Gable_2</Gable_2>
    <Gable_3>Buildings\B_SwordSmith_Gable_3</Gable_3>
	<Luxury_1>
        <Upgrade_1>Buildings\B_SwordSmith_W_Bannermaker_1</Upgrade_1>
        <Animation_1>B_SwordSmith_W_Bannermaker_1</Animation_1>
        <Upgrade_2>Buildings\B_SwordSmith_W_Bannermaker_2</Upgrade_2>
        <Animation_2>B_SwordSmith_W_Bannermaker_2</Animation_2>
        <Upgrade_3>Buildings\B_SwordSmith_W_Bannermaker_3</Upgrade_3>
    </Luxury_1>
    <Luxury_2>
        <Upgrade_1>Buildings\B_SwordSmith_W_Carpenter_1</Upgrade_1>
        <Upgrade_2>Buildings\B_SwordSmith_W_Carpenter_2</Upgrade_2>
        <Upgrade_3>Buildings\B_SwordSmith_W_Carpenter_3</Upgrade_3>
    </Luxury_2>
    <Luxury_3>
        <Upgrade_1>Buildings\B_SwordSmith_W_Blacksmith_1</Upgrade_1>
        <Upgrade_2>Buildings\B_SwordSmith_W_Blacksmith_2</Upgrade_2>
        <Upgrade_3>Buildings\B_SwordSmith_W_Blacksmith_3</Upgrade_3>
    </Luxury_3>
    <Luxury_4>
        <Upgrade_1>Buildings\B_SwordSmith_W_Candlemaker_1</Upgrade_1>
        <Upgrade_2>Buildings\B_SwordSmith_W_Candlemaker_2</Upgrade_2>
        <Upgrade_3>Buildings\B_SwordSmith_W_Candlemaker_3</Upgrade_3>
    </Luxury_4>
    <LightFloor_1>Buildings\B_SwordSmith_Floor_1_Light</LightFloor_1>
    <LightFloor_2>Buildings\B_SwordSmith_Floor_2_Light</LightFloor_2>
    <LightFloor_3>Buildings\B_SwordSmith_Floor_3_Light</LightFloor_3>
    <FireCountFloor_1>14</FireCountFloor_1>
    <FireCountFloor_2>10</FireCountFloor_2>
    <FireCountFloor_3>10</FireCountFloor_3>
    <FireCountRoof>10</FireCountRoof>
    <Anim/>
    <SnowFactor>0.5</SnowFactor>
  </Display>

  <Logic classname="EGL::CUpgradableBuildingProps">
    <Class>EGL::CUpgradableBuilding</Class>

    <!-- NEED related tags -->

        <CriticalThresholdSatisfaction>0.2</CriticalThresholdSatisfaction>

        <InitialNutritionState>0.8</InitialNutritionState>
        <AttentionThresholdNutrition>0.51</AttentionThresholdNutrition>
        <CriticalThresholdNutrition>0.31</CriticalThresholdNutrition>

        <InitialClothingState>0.6</InitialClothingState>
        <AttentionThresholdClothing>0.51</AttentionThresholdClothing>
        <CriticalThresholdClothing>0.31</CriticalThresholdClothing>

        <InitialHygieneState>0.6</InitialHygieneState>
        <AttentionThresholdHygiene>0.51</AttentionThresholdHygiene>
        <CriticalThresholdHygiene>0.31</CriticalThresholdHygiene>
        <HygieneCriticalSwarmEffect>FX_Flys</HygieneCriticalSwarmEffect>
        <HygieneCriticalSmokeEffect>E_SickBuilding</HygieneCriticalSmokeEffect>
        <IllnessProbabilityModifier>1.0</IllnessProbabilityModifier>

        <InitialEntertainmentState>0.6</InitialEntertainmentState>
        <AttentionThresholdEntertainment>0.51</AttentionThresholdEntertainment>
        <CriticalThresholdEntertainment>0.31</CriticalThresholdEntertainment>

        <InitialSecurityState>0</InitialSecurityState>
        <AttentionThresholdSecurity>0</AttentionThresholdSecurity>
        <CriticalThresholdSecurity>0</CriticalThresholdSecurity>

        <InitialWealthState>0</InitialWealthState>
        <AttentionThresholdWealth>0</AttentionThresholdWealth>
        <CriticalThresholdWealth>-1</CriticalThresholdWealth>

        <RubbleDoodad>B_Rubble_8x8</RubbleDoodad>

        <Cost>
            <GoodAmount>
                <GoodType>G_Wood</GoodType>
                <Amount>8</Amount>
            </GoodAmount>
        </Cost>
        <UpgradeCosts>
            <UpgradeCost>
                <GoodAmount>
                    <GoodType>G_Wood</GoodType>
                    <Amount>10</Amount>
                </GoodAmount>
            </UpgradeCost>
            <UpgradeCost>
                <GoodAmount>
                    <GoodType>G_Wood</GoodType>
                    <Amount>12</Amount>
                </GoodAmount>
            </UpgradeCost>
        </UpgradeCosts>

        <ProducedGood>
            <GoodType>G_PlateArmor</GoodType>
            <Amount>1</Amount>
        </ProducedGood>

        <IsAutomaticallyUpgradable>false</IsAutomaticallyUpgradable>

<!-- chance to get a spouse at the festival (0-1). 0 means that the workers don't go to the festival at all -->
         <SpouseProbabilityFactor>0.3</SpouseProbabilityFactor>

    <OutStockCapacities>
        <OutStockCapacity>9</OutStockCapacity>
        <OutStockCapacity>9</OutStockCapacity>
        <OutStockCapacity>9</OutStockCapacity>
    </OutStockCapacities>

    <EntityCategories>
    		<EntityCategory>GC_PlateArmor_Supplier</EntityCategory>
    		<EntityCategory>CityBuilding</EntityCategory>
    		<EntityCategory>AttackableBuilding</EntityCategory>
            <EntityCategory>ProsperBuilding</EntityCategory>
    </EntityCategories>

    <CanBeBuildOnOuterRim>true</CanBeBuildOnOuterRim>

    <!-- Hack: City Buildings can buold everywhere -->
    <FlattenOnBuild>true</FlattenOnBuild>
    <IsHeightLocking>true</IsHeightLocking>
    <MayRemoveEntities>true</MayRemoveEntities>

    <MaxNumberOfUpgrades>2</MaxNumberOfUpgrades>
    <SecondsToUpgrade>18</SecondsToUpgrade>

    <MinFloorFireSize>0</MinFloorFireSize>
    <MaxFloorFireSize>15</MaxFloorFireSize>
    <MaxHealth>200</MaxHealth>

    <AccessCategory>AccessCategoryBuilding</AccessCategory>
    <NeedsPlayer>true</NeedsPlayer>
    <ForceNoPlayer>false</ForceNoPlayer>
    <CanBeKnockedDown>true</CanBeKnockedDown>
    <Worker>U_ArmorSmith</Worker>
    <MaxWorkers>3</MaxWorkers>

    <WorkTaskLists>
            <WorkTaskList>TL_SWORDSMITH_WORK01</WorkTaskList>
            <WorkTaskList>TL_SWORDSMITH_WORK02</WorkTaskList>
            <WorkTaskList>TL_SWORDSMITH_WORK03</WorkTaskList>
    </WorkTaskLists>
    <SpouseWorkTaskLists>
        <SpouseWorkTaskList>TL_SPOUSE_WORK</SpouseWorkTaskList>
        <SpouseWorkTaskList>TL_SPOUSE_WORK</SpouseWorkTaskList>
        <SpouseWorkTaskList>TL_SPOUSE_WORK</SpouseWorkTaskList>
    </SpouseWorkTaskLists>
    <RepairBuildingTL>TL_WORKER_REPAIR</RepairBuildingTL>
    <Exploration>0</Exploration>
            <ApproachPos>
                <X>100</X>
                <Y>-500</Y>
            </ApproachPos>
            <ApproachR>0</ApproachR>
            <DoorPos>
                <X>100</X>
                <Y>-300</Y>
            </DoorPos>

            <IdlePos>
                <X>300</X>
                <Y>-500</Y>
            </IdlePos>
            <OutstockPos>
                <X>-200</X>
                <Y>-500</Y>
            </OutstockPos>

            <BlockingAreas>
                <BlockingArea>
                    <Blocked1>
                        <X>-400</X>
                        <Y>400</Y>
                    </Blocked1>
                    <Blocked2>
                        <X>400</X>
                        <Y>-400</Y>
                    </Blocked2>
                </BlockingArea>
            </BlockingAreas>
            <BuildBlockingAreas>
                <BuildBlockingArea>
                    <Blocked1>
                        <X>-400</X>
                        <Y>400</Y>
                    </Blocked1>
                    <Blocked2>
                        <X>400</X>
                        <Y>-550</Y>
                    </Blocked2>
                </BuildBlockingArea>
            </BuildBlockingAreas>

    <ConstructionInfo>
      <Time>18</Time>

      <BuilderSlots>
        <BuilderSlot>
          <Position>
            <X>-500</X>
            <Y>400</Y>
          </Position>
          <Orientation>0</Orientation>
        </BuilderSlot>
      </BuilderSlots>
      <ConstructionSite>B_BuildingPlot_8x8</ConstructionSite>
    </ConstructionInfo>
    <SoundImpactType>Stone_Wood</SoundImpactType>

    <GoodIcon>Icon64PlateArmor</GoodIcon>
    <ResourceIcon>Icon64Iron</ResourceIcon>

  </Logic>
  <Behaviors>
    <Behavior>
      <Logic classname="EGL::CBehaviorProps">
        <Class>EGL::CBehaviorMultiSubAnims</Class>
      </Logic>
      <Display classname="ED::CBehaviorProps">
        <Class>ED::CDisplayBehaviorBuildingAnimation</Class>
      </Display>
    </Behavior>
    <Behavior>
      <Logic classname="EGL::CBuildingSpouseAnimsProps">
        <Class>EGL::CBuildingSpouseAnimsBehavior</Class>
        <BuildingAnimSet>SET_BUILDING</BuildingAnimSet>
        <NodesUpgrade0>
        </NodesUpgrade0>

        <NodesUpgrade1>
            <Node>605</Node>
        </NodesUpgrade1>

        <NodesUpgrade2>
            <Node>605</Node>
        </NodesUpgrade2>
      </Logic>
      <Display classname="ED::CBehaviorProps">
        <Class>ED::CBuildingBehaviorSpouseAnim</Class>
      </Display>
    </Behavior>
    <Behavior>
      <Logic classname="EGL::CStockBehaviorProps">
        <Class>EGL::CStockOutBehavior</Class>
        <MaxAmountOnStock>9</MaxAmountOnStock>
        <GoodTypes>
            <GoodType>G_PlateArmor</GoodType>
        </GoodTypes>
      </Logic>
      <Display classname="ED::COutStockBehaviorProps">
        <Class>ED::COutStockBehavior</Class>
        <MaxOutStockDisplayed>9</MaxOutStockDisplayed>
        <StockModel>Goods\G_SwordSwordSmith01</StockModel>
      </Display>
    </Behavior>
    <Behavior>
      <Logic classname="EGL::CStockBehaviorProps">
        <Class>EGL::CStockInBehavior</Class>
        <MaxAmountOnStock>10</MaxAmountOnStock>
        <GoodTypes>
          <GoodType>G_Iron</GoodType>
        </GoodTypes>
      </Logic>
    </Behavior>

    <Behavior>
      <Logic classname="EGL::CBehaviorProps">
        <Class>EGL::CParticleEffectSwitchBehavior</Class>
      </Logic>
      <Display classname="ED::CBehaviorProps">
        <Class>ED::CParticleEffectSwitchBehavior</Class>
      </Display>
    </Behavior>
	    <Behavior>
	      <Logic classname="EGL::CBehaviorProps">
	        <Class>EGL::CSlotBuildingWealth</Class>
	      </Logic>
	      <Display classname="ED::CBehaviorProps">
	        <Class>ED::CWealthBehavior</Class>
	      </Display>
	    </Behavior>
  </Behaviors>
  <MapEditor>
        <TreePosition>CommunityPatch\Buildings\City</TreePosition>
        <ShowInTree>true</ShowInTree>
        <Clime>Generic</Clime>
        <Scalable>false</Scalable>
        <TemplateResistant>true</TemplateResistant>
  </MapEditor>

</root>